# 第 21.10 节 RockyLinux 兼容层（FreeBSD Port）

截止 2024.9.19，Port/软件包 [emulators/linux-rl9](https://www.freshports.org/emulators/linux-rl9/) 基于 RockyLinux 9.3（发布于 [2023-11-20](https://rockylinux.org/zh-CN/news/rocky-linux-9-3-ga-release)）。

## 安装基本系统

先加载 Linux 模块：

```sh
# sysrc linux_enable="YES"
# sysrc kld_list+="linux linux64"
# kldload linux64
# service linux start
```

安装基本系统：

```sh
# pkg install linux-rl9
```

或

```sh
# cd /usr/ports/emulators/linux-rl9/ 
# make install clean
```

配置服务：

```sh
# sysrc dbus_enable="YES" #一般桌面已经配置
# service dbus start #一般桌面已经配置
# dbus-uuidgen > /compat/linux/etc/machine-id
```

## 配置 `fstab`

以下写入 `/etc/fstab`:

```sh
linprocfs   /compat/linux/proc	linprocfs	rw	0	0
linsysfs    /compat/linux/sys	linsysfs	rw	0	0
tmpfs    /compat/linux/dev/shm	tmpfs	rw,mode=1777	0	0
```

检查挂载有无报错（无任何输出代表没问题）：

```sh
# mount -al
```

重启：

```sh
# reboot
```

